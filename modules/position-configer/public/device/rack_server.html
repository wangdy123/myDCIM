<script type="text/javascript">
	WUI.deviceConfiger = WUI.deviceConfiger || {};
	WUI.deviceConfiger.rack_server = WUI.deviceConfiger.rack_server || {};
	WUI.deviceConfiger.rack_server.init = function(device, parentId, deviceType) {
		if (device) {
			$('#device-ip-txt').textbox("setValue", WUI.getPropertyValue(device.properties, "ip"));
			$('#device-bmc-txt').textbox("setValue", WUI.getPropertyValue(device.properties, "bmc"));
			$('#device-cpu-txt').numberbox("setValue", WUI.getPropertyValue(device.properties, "cpu"));
			$('#device-rated-power-txt').numberbox("setValue", WUI.getPropertyValue(device.properties, "ratedPower"));
			$('#device-mem-txt').numberbox("setValue", WUI.getPropertyValue(device.properties, "mem"));
			$('#device-disk-txt').numberbox("setValue", WUI.getPropertyValue(device.properties, "disk"));
			$('#device-power-txt').numberbox("setValue", WUI.getPropertyValue(device.properties, "power"));
			$('#device-fun-txt').numberbox("setValue", WUI.getPropertyValue(device.properties, "fun"));
			$('#device-gpu-txt').numberbox("setValue", WUI.getPropertyValue(device.properties, "gpu"));
			$('#device-mic-txt').numberbox("setValue", WUI.getPropertyValue(device.properties, "mic"));
		}
	};

	WUI.deviceConfiger.rack_server.checkValid = function(device) {
		var isValid = $('#device-ip-txt').textbox("isValid");
		isValid = isValid && $('#device-bmc-txt').textbox("isValid");
		isValid = isValid && $('#device-cpu-txt').numberbox("isValid");
		isValid = isValid && $('#device-rated-power-txt').numberbox("isValid");
		isValid = isValid && $('#device-mem-txt').numberbox("isValid");
		isValid = isValid && $('#device-disk-txt').numberbox("isValid");
		isValid = isValid && $('#device-power-txt').numberbox("isValid");
		isValid = isValid && $('#device-fun-txt').numberbox("isValid");
		isValid = isValid && $('#device-gpu-txt').numberbox("isValid");
		isValid = isValid && $('#device-mic-txt').numberbox("isValid");
		return isValid;
	};

	WUI.deviceConfiger.rack_server.getExProperties = function() {
		var properties = [];
		properties.push({
			PRO_NAME : "ip",
			VALUE_TYPE : WUI.object_ex.typeDef["string"],
			PRO_VALUE : $('#device-ip-txt').textbox("getValue")
		});
		properties.push({
			PRO_NAME : "bmc",
			VALUE_TYPE : WUI.object_ex.typeDef["string"],
			PRO_VALUE : $('#device-bmc-txt').textbox("getValue")
		});
		properties.push({
			PRO_NAME : "cpu",
			VALUE_TYPE : WUI.object_ex.typeDef["int"],
			PRO_VALUE : $('#device-cpu-txt').numberbox("getValue")
		});
		properties.push({
			PRO_NAME : "ratedPower",
			VALUE_TYPE : WUI.object_ex.typeDef["int"],
			PRO_VALUE : $('#device-rated-power-txt').numberbox("getValue")
		});
		properties.push({
			PRO_NAME : "mem",
			VALUE_TYPE : WUI.object_ex.typeDef["int"],
			PRO_VALUE : $('#device-mem-txt').numberbox("getValue")
		});

		properties.push({
			PRO_NAME : "disk",
			VALUE_TYPE : WUI.object_ex.typeDef["int"],
			PRO_VALUE : $('#device-disk-txt').numberbox("getValue")
		});

		properties.push({
			PRO_NAME : "power",
			VALUE_TYPE : WUI.object_ex.typeDef["int"],
			PRO_VALUE : $('#device-power-txt').numberbox("getValue")
		});

		properties.push({
			PRO_NAME : "fun",
			VALUE_TYPE : WUI.object_ex.typeDef["int"],
			PRO_VALUE : $('#device-fun-txt').numberbox("getValue")
		});

		properties.push({
			PRO_NAME : "gpu",
			VALUE_TYPE : WUI.object_ex.typeDef["int"],
			PRO_VALUE : $('#device-gpu-txt').numberbox("getValue")
		});

		properties.push({
			PRO_NAME : "mic",
			VALUE_TYPE : WUI.object_ex.typeDef["int"],
			PRO_VALUE : $('#device-mic-txt').numberbox("getValue")
		});

		return properties;
	};
</script>

<div class="panel" fit="true">
	<table class="configer">
		<tr>
			<td align="right">编码:</td>
			<td style="width: 150px;"><input id="device-code-txt" class="easyui-textbox" type="text" style="width: 100%"
				data-options="required:true"></td>
			<td style="width: 20px;"></td>
			<td align="right">名称:</td>
			<td style="width: 150px;"><input id="device-name-txt" class="easyui-textbox" type="text" style="width: 100%"
				data-options="required:true"></td>
		</tr>
		<tr>
			<td align="right">设备厂家:</td>
			<td><select id="device-vender-sel" style="width: 100%"></select></td>
			<td></td>
			<td align="right">设备型号:</td>
			<td><select id="device-model-sel" style="width: 100%"></select></td>
		</tr>
		<tr>
			<td align="right">投产日期:</td>
			<td><input id="device-start-use-date" class="easyui-datebox" style="width: 100%;"></td>
			<td></td>
			<td align="right">预计报废日期:</td>
			<td><input id="device-expect-end-date" class="easyui-datebox" style="width: 100%;"></td>
		</tr>
		<tr>
			<td align="right">IP:</td>
			<td><input id="device-ip-txt" class="easyui-textbox" type="text" style="width: 100%"
				data-options="required:true"></td>
			<td></td>
			<td align="right">BMC:</td>
			<td><input id="device-bmc-txt" class="easyui-textbox" type="text" style="width: 100%"
				data-options="required:true"></td>
		</tr>
		<tr>
			<td align="right">额定功率:</td>
			<td><input id="device-rated-power-txt" class="easyui-numberbox" type="text" style="width: 100%"
				data-options="required:true,min:1,precision:0,value:1"></td>
			<td>W</td>
			<td align="right">CPU颗数:</td>
			<td><input id="device-cpu-txt" class="easyui-numberbox" type="text" style="width: 100%"
				data-options="required:true,min:1,precision:0,value:1"></td>
		</tr>
		<tr>
			<td align="right">内存条数:</td>
			<td><input id="device-mem-txt" class="easyui-numberbox" type="text" style="width: 100%"
				data-options="required:true,min:1,precision:0,value:1"></td>
			<td></td>
			<td align="right">硬盘个数:</td>
			<td><input id="device-disk-txt" class="easyui-numberbox" type="text" style="width: 100%"
				data-options="required:true,min:1,precision:0,value:1"></td>
		</tr>
		<tr>
			<td align="right">电源个数:</td>
			<td><input id="device-power-txt" class="easyui-numberbox" type="text" style="width: 100%"
				data-options="required:true,min:1,precision:0,value:1"></td>
			<td></td>
			<td align="right">风扇个数:</td>
			<td><input id="device-fun-txt" class="easyui-numberbox" type="text" style="width: 100%"
				data-options="required:true,min:1,precision:0,value:1"></td>
		</tr>
		<tr>
			<td align="right">GPU个数:</td>
			<td><input id="device-gpu-txt" class="easyui-numberbox" type="text" style="width: 100%"
				data-options="required:true,min:1,precision:0,value:1"></td>
			<td></td>
			<td align="right">MIC个数:</td>
			<td><input id="device-mic-txt" class="easyui-numberbox" type="text" style="width: 100%"
				data-options="required:true,min:1,precision:0,value:1"></td>
		</tr>
		<tr>
			<td align="right">描述:</td>
		</tr>
		<tr>
			<td colspan="5"><input id="device-desc-txt" class="easyui-textbox" multiline="true"
				style="width: 100%; height: 120px;" /></td>
		</tr>
	</table>
</div>

