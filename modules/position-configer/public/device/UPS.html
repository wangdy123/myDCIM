<script type="text/javascript">
	WUI.deviceConfiger = WUI.deviceConfiger || {};
	WUI.deviceConfiger.UPS = WUI.deviceConfiger.UPS || {};
	WUI.deviceConfiger.UPS.init = function(device, parentId, deviceType) {
		if (device) {
			$('#device-input-txt').numberbox("setValue", WUI.getPropertyValue(device.properties, "inputCount"));
			$('#device-output-txt').numberbox("setValue", WUI.getPropertyValue(device.properties, "outputCount"));
			$('#device-rated-power-txt').numberbox("setValue", WUI.getPropertyValue(device.properties, "ratedPower"));
		}
	};

	WUI.deviceConfiger.UPS.checkValid = function(device) {
		var isValid = $('#device-input-txt').numberbox("isValid");
		isValid = isValid && $('#device-output-txt').numberbox("isValid");
		isValid = isValid && $('#device-rated-power-txt').numberbox("isValid");
		return isValid;
	};

	WUI.deviceConfiger.UPS.getExProperties = function() {
		var properties = [];
		properties.push({
			PRO_NAME : "inputCount",
			VALUE_TYPE : WUI.object_ex.typeDef["int"],
			PRO_VALUE : $('#device-input-txt').numberbox("getValue")
		});
		properties.push({
			PRO_NAME : "outputCount",
			VALUE_TYPE : WUI.object_ex.typeDef["int"],
			PRO_VALUE : $('#device-output-txt').numberbox("getValue")
		});
		properties.push({
			PRO_NAME : "ratedPower",
			VALUE_TYPE : WUI.object_ex.typeDef["int"],
			PRO_VALUE : $('#device-rated-power-txt').numberbox("getValue")
		});
		return properties;
	};
</script>

<div class="panel" fit="true">
	<table class="configer">
		<tr>
			<td align="right">编码:</td>
			<td style="width: 150px;"><input id="device-code-txt" class="easyui-textbox" type="text" style="width: 100%"
				data-options="required:true"></td>
			<td style="width: 20px;"></td>
			<td align="right">名称:</td>
			<td style="width: 150px;"><input id="device-name-txt" class="easyui-textbox" type="text" style="width: 100%"
				data-options="required:true"></td>
		</tr>
		<tr>
			<td align="right">设备厂家:</td>
			<td><select id="device-vender-sel" style="width: 100%"></select></td>
			<td></td>
			<td align="right">设备型号:</td>
			<td><select id="device-model-sel" style="width: 100%"></select></td>
		</tr>
		<tr>
			<td align="right">投产日期:</td>
			<td><input id="device-start-use-date" class="easyui-datebox" style="width: 100%;"></td>
			<td></td>
			<td align="right">预计报废日期:</td>
			<td><input id="device-expect-end-date" class="easyui-datebox" style="width: 100%;"></td>
		</tr>
		<tr>
			<td align="right">输入分路数:</td>
			<td><input id="device-input-txt" class="easyui-numberbox" type="text" style="width: 100%"
				data-options="required:true,min:1,precision:0,value:1"></td>
			<td></td>
			<td align="right">输出支路数:</td>
			<td><input id="device-output-txt" class="easyui-numberbox" type="text" style="width: 100%"
				data-options="required:true,min:1,precision:0,value:1"></td>
		</tr>
		<tr>
			<td align="right">额定功率:</td>
			<td><input id="device-rated-power-txt" class="easyui-numberbox" type="text"
				style="width: 100%" data-options="required:true,min:1,precision:0,value:1"></td>
			<td>W</td>
		</tr>
		<tr>
			<td align="right">描述:</td>
		</tr>
		<tr>
			<td colspan="5"><input id="device-desc-txt" class="easyui-textbox" multiline="true"
				style="width: 100%; height: 120px;" /></td>
		</tr>
	</table>
</div>

